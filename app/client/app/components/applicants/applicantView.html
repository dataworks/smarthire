
<div class="block">
  <select id="select" ng-model="selection" ng-change="showSelectValue(selection)">
    <option id="u" value="new" selected>New</option>
    <option id="u" value="favorite" >Favorite</option>
    <option id="u" value="review">Review</option>
    <option id="u"  value="archive" >Archive</option>
  </select>
  <!-- upload button -->
  <label id="upload" class="btn btn-primary">
    Upload Resume <input type="file" style="display: none;" custom-on-change="upload" multiple />
  </label>
   <!-- search bar -->
   <div class="form-group col-xs-6">
    <div class="inner-addon right-addon">
      <i id="sb" class="glyphicon glyphicon-search" ng-click="search(searchText)"></i>
      <autocomplete data="autoSuggest" type="text" ng-keyup="$event.keyCode == 13 && search(searchText)" id="search" ng-model="searchText" placeholder="Search here..." required></autocomplete>
      <div class="input-group-btn">
          <div class="dropdown dropdown-lg">
            <button id="arrow" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>
            <div class="dropdown-menu" role="menu">
              <form class="form-horizontal" role="form">
                <div class="form-group">
                  <label for="filter">Filter by</label>
                  <div class="checkbox">
                  <!-- whenever a new search is added the id needs to be added to the pointer css in appView -->
                    <label id="two"><b>Major</b> <br>
                      <input type="checkbox" id="csCheck"> Computer Science<br>
                      <input type="checkbox" id="cpeCheck"> Computer Engineering<br>
                      <input type="checkbox" id="itCheck"> Information Technology<br>
                    </label>
                    <label id="two"><b>Location</b> <br>
                      <input type="checkbox" id="vaCheck">Virginia<br>
                      <input type="checkbox" id="mdCheck">Maryland<br>
                      <input type="checkbox" id="dcCheck"> Washington D.C.<br>
                      </label> <div id="one"></div>
                    <label id="three"><b>Education</b> <br>
                      <input type="checkbox" id="uvaCheck"> UVa<br>
                      <input type="checkbox" id="jmuCheck"> JMU<br>
                      <input type="checkbox" id="rpiCheck"> RPI<br>
                    </label>
                    <label id="two"><b>Job title</b><br>
                      <input type="checkbox" id="devCheck"> Developer<br>
                      <input type="checkbox" id="arcCheck"> Architect<br>
                      <input type="checkbox" id="manCheck"> Manager<br>
                    </label>
                  </div>
                </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- needed in order to have toast -->
<toast></toast>
<div infinite-scroll="nextPage()" infinite-scroll-disabled="loadingData" infinite-scroll-check="false" infinite-scroll-distance="1">
  <div class="row-applicant-row" >
    <table class="table table-condensed">
      <thead id="head">
        <tr>
          <th id="p">Profile</th>
          <th id="s"><a title="Click to Sort Score." ng-click="sortColumn('score')">Score</a><span class="sortorder" ng-class="{reverse: reverse}" ng-hide="sortBool"></span></th>
          <th id="n"><a title="Click to sort Name." ng-click="sortColumn('name')">Name</a><span class="sortorder" ng-class="{reverse: reverse}" ng-show="sortBool"></span></th></th>
          <th id="ci" class="hidden-xs hidden-s">Current Info</th>
          <th id="d" class="hidden-xs hidden-s">Degree</th>
          <th id="c" class="hidden-xs hidden-s">Contact</th>
          <th id="o">Options</th>
        </tr>
      </thead>
      <tbody ng-repeat="applicant in applicants track by applicant.id">
        <tr class="accordion-toggle">
          <td id="p"><img id = "profile" ng-src="{{getLink(applicant.id, 'image')}}" onerror="this.src='images/profile.png'"></td>
          <td id="s"><span id="high" ng-if="applicant.score >= 0.7">{{applicant.score}}</span>
            <span id="mid" ng-if="applicant.score < 0.7 && applicant.score > 0.3">{{applicant.score}}</span>
            <span id="low" ng-if="applicant.score <= 0.3">{{applicant.score}}</span> <br> <span id="star" class="glyphicon glyphicon-star" ng-if="applicant.score >= 0.9"></span>
          </td>
          <td id="n"><span ng-if="applicant.name != ''">{{applicant.name}}</span>
          <span ng-if="applicant.name == ''">Name Not found</span></td>
          <td id="ci" class="hidden-xs hidden-s">{{applicant.currentLocation.organization}} <br> {{applicant.currentLocation.location}}<br> {{applicant.currentLocation.title}}</td>
          <td id="d" class="hidden-xs hidden-s">{{applicant.education.degree}}</td>
          <td id="c" class="hidden-xs hidden-s"><a ng-href="tel:{{applicant.contact.phone}}"> {{applicant.contact.phone}} </a> <br> <a ng-href="mailto:{{applicant.contact.email}}"> {{applicant.contact.email}}</a> <br> </td>
          <td id="o"><span ng-if="selection != 'favorite'"><button id="up" type="button" class="btn btn-default" aria-label="Left Align"  ng-click="mark(applicant.id, 'favorite', applicant); showToast('Favorite')"> 
            <span title="Add to Favorites" class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
          </button></span>
          <span ng-if="selection != 'review'"><button id="question" type="button" class="btn btn-default" aria-label="Left Align" ng-click="mark(applicant.id, 'review', applicant); showToast('Review')">
            <span title="Add to Review" class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
            <a href="/archive"></a> 
          </button></span>
          <span ng-if="selection != 'archive'"><button id="down" type="button" class="btn btn-default" aria-label="Left Align" ng-click="mark(applicant.id, 'archive', applicant); showToast('Archive')">
            <span title="Add to Archive" class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
            <a href="/archive"></a> 
          </button></span>
          <span ng-if="selection != 'new'"><button id="back" type="button" class="btn btn-default" aria-label="Left Align" ng-click="remove(applicant.id, applicant); showToast('Back')">
            <span title="Send back to New" class="glyphicon glyphicon-share-alt">
            </span>
          </button></span>    
          <button id="eye" class="btn btn-default btn-xs" data-toggle="collapse" data-target="#demo1-{{$index}}">
            <span title="View more" class="glyphicon glyphicon-eye-open">
            </span>
          </button>
          <a target="_blank" href="{{getLink(applicant.id, 'pdf')}}">
            <button id="file" type="button" class="btn btn-default" aria-label="Left Align" ng-click="">
              <span title="View resume" class="glyphicon glyphicon-file">
              </span>
            </button>
          </a>
        </td>
      </tr>
      <tr>
        <td  id="hide" colspan="12" class="hiddenRow">
          <div class="accordian-body collapse" id="demo1-{{$index}}">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th id="skill">Skills</th>
                  <th id="ed" class="hidden-xs hidden-s">Education</th>
                  <th id="link" class="hidden-xs hidden-s">Web Links</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id='body'><b>ETL:</b><span id="valE"> {{applicant.skills.etl.join(', ')}}</span> <br> <b>Web App:</b> <span id="valW">{{applicant.skills.webapp.join(', ')}}</span> <br> <b>Languages:</b> <span id="valL">{{applicant.skills.language.join(', ')}}</span> <br> <b>Mobile:</b> <span id="valM">{{applicant.skills.mobile.join(', ')}}</span> <br> <b>Databases:</b> <span id="valD">{{applicant.skills.database.join(', ')}}</span><br> <b> Big Data:</b> <span id="valB">{{applicant.skills.bigdata.join(', ')}}</span></td>
                  <td id='body' class="hidden-xs hidden-s"><b>School:</b> <span id="valS">{{applicant.education.school}}</span> <br> <b>GPA:</b> <span id="valGPA">{{applicant.education.gpa}}</span> <br> </td>
                  <td id='body'  class="hidden-xs hidden-s"> <b>Linked-in: </b><a ng-href="{{applicant.contact.linkedin}}" target="_blank">{{applicant.contact.linkedin}} </a> <br> <b> GitHub: </b><a ng-href="{{applicant.contact.github}}" target="_blank">{{applicant.contact.github}}</a> <br> <b>Indeed: </b><a ng-href="{{applicant.contact.indeed}}" target="_blank">{{applicant.contact.indeed}}</a></td>
                </tbody>
              </table>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
